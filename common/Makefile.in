#
# $Id: Makefile.in,v 1.6.2.1 2003/05/07 11:15:26 mt Exp $
#
# Makefile (Template) for SuSE Proxy Suite -- Common Files
#
# Please do NOT edit this file if its name is just Makefile.
# Instead, edit Makefile.in and run "../configure [options]".
#
# Author(s): Jens-Gero Boehm <jens-gero.boehm@suse.de>
#            Pieter Hollants <pieter.hollants@suse.de>
#            Marius Tomaschewski <mt@suse.de>
#            Volker Wiegand <volker.wiegand@suse.de>
#
# This file is part of the SuSE Proxy Suite
#            See also  http://proxy-suite.suse.de/
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation; either version
# 2 of the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the
# Free Software Foundation, Inc., 59 Temple Place - Suite 330,
# Boston, MA 02111-1307, USA.
#
# A history log can be found at the end of this file.
#

prefix=		@prefix@
exec_prefix=	@exec_prefix@

SHELL=		/bin/sh

CC=		@CC@
CFLAGS=		@CFLAGS@
CPPFLAGS=	@CPPFLAGS@
RANLIB=		@RANLIB@
AR=		@AR@
RM=		@RM@

COM_LIB=	libcommon.a

TAGS=		@TAGS@
CTAGS=		@CTAGS@
CTAGS_OPTS=	@CTAGS_OPTS@

COM_SRCS=	com-config.c	\
		com-debug.c	\
		com-misc.c	\
		com-socket.c	\
		com-syslog.c

COM_HDRS=	com-config.h	\
		com-debug.h	\
		com-misc.h	\
		com-socket.h	\
		com-syslog.h

COM_OBJS=	com-config.o	\
		com-debug.o	\
		com-misc.o	\
		com-socket.o	\
		com-syslog.o


############################################################

all: $(TAGS) $(COM_LIB)

ifneq (,$(CTAGS))
$(TAGS): $(wildcard $(COM_SRCS) $(COM_HDRS))
	$(CTAGS) $(CTAGS_OPTS) $^
	@echo ""
else
$(TAGS):
endif

$(COM_LIB): $(COM_LIB)($(COM_OBJS))
	$(RANLIB) $@


############################################################

$(COM_LIB)(com-config.o): com-config.c $(COM_HDRS)
$(COM_LIB)(com-debug.o):  com-debug.c  $(COM_HDRS)
$(COM_LIB)(com-misc.o):   com-misc.c   $(COM_HDRS)
$(COM_LIB)(com-socket.o): com-socket.c $(COM_HDRS)
$(COM_LIB)(com-syslog.o): com-syslog.c $(COM_HDRS)

.c.a:
	$(CC) $(CFLAGS) $(CPPFLAGS) -I. -I.. -c $<
	$(AR) r $@ $*.o
	$(RM) $*.o


############################################################

install:
install.doc:


############################################################

clean:
	rm -f *.o *.a *~ tags core

distclean: clean
	rm -f Makefile

realclean: distclean


############################################################
# $Log: Makefile.in,v $
# Revision 1.6.2.1  2003/05/07 11:15:26  mt
# added CPPFLAGS variable
#
# Revision 1.6  2002/05/02 12:55:01  mt
# merged with v1.8.2.2
#
# Revision 1.5.2.1  2002/01/27 21:20:38  mt
# fixed Makefiles to use INST_ROOT, added install.doc targets
#
# Revision 1.5  2002/01/14 18:31:18  mt
# fixed ctags handling - it needs to be enabled by configure now
#
# Revision 1.4  2001/11/06 23:04:43  mt
# applied / merged with transparent proxy patches v8
# see ftp-proxy/NEWS for more detailed release news
#
# Revision 1.3  1999/09/23 08:09:10  wiegand
# delete Makefile on distclean, not only realclean
# added (empty) install target
#
# Revision 1.2  1999/09/16 05:53:15  wiegand
# added the missing com-debug.o rule
#
# Revision 1.1  1999/09/15 14:05:38  wiegand
# initial checkin
#
############################################################

