#
# $Id: Makefile.in,v 1.5 2002/05/02 13:03:46 mt Exp $
#
# Makefile (Template) for SuSE Proxy Suite -- Documentation
#
# Please do NOT edit this file if its name is just Makefile.
# Instead, edit Makefile.in and run "../configure [options]".
#
# Generates HTML and Postscript from SGML source.
# Requires sgmltools 1.0.x (1.1.x and 2.x will NOT work!).
#
# Author(s): Jens-Gero Boehm <jens-gero.boehm@suse.de>
#            Pieter Hollants <pieter.hollants@suse.de>
#            Marius Tomaschewski <mt@suse.de>
#            Volker Wiegand <volker.wiegand@suse.de>
#
# This file is part of the SuSE Proxy Suite
#            See also  http://proxy-suite.suse.de/
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation; either version
# 2 of the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the
# Free Software Foundation, Inc., 59 Temple Place - Suite 330,
# Boston, MA 02111-1307, USA.
#
# A history log can be found at the end of this file.
#

SHELL=		/bin/sh

prefix=		@prefix@
datadir=	@datadir@
docdir?=	$(datadir)/doc/proxy-suite

PS2PDF=		@PS2PDF@
SGML2HTML=	@SGML2HTML@
SGML2LATEX=	@SGML2LATEX@

INSTALL=	@INSTALL@
INSTALL_DATA=	@INSTALL_DATA@


############################################################


FTP_SGML=	src/ftp-proxy.sgml

FTP_HTML=	ftp-proxy.html
FTP_PDF=	ftp-proxy.pdf
FTP_PS=		ftp-proxy.ps


############################################################


all: ps pdf html

ps:	$(FTP_PS)
pdf:	$(FTP_PDF)
html:	$(FTP_HTML)

$(FTP_PS):	$(FTP_SGML)
	@if [ -n "$(SGML2LATEX)" ] ; then \
		$(SGML2LATEX) --output=ps $< ; \
	else echo "$@: SGML2LATEX not avaliable" ; \
	fi

$(FTP_PDF):	$(FTP_PS)
	@if [ -n "$(PS2PDF)" ] && [ -f "$<" ] ; then \
		$(PS2PDF) $< $@ ; \
	else echo "$@: PS2PDF not avaliable" ; \
	fi

$(FTP_HTML):	$(FTP_SGML)
	@if [ -n "$(SGML2HTML)" ] ; then \
		$(SGML2HTML) $< ; \
	else echo "$@: SGML2HTML not avaliable" ; \
	fi


############################################################

install:
install.doc: install.ps install.pdf install.html

install.ps: $(FTP_PS)
	@test -d $(INST_ROOT)$(docdir) || \
	  $(INSTALL) -d $(INST_ROOT)$(docdir)
	$(INSTALL_DATA) $(FTP_PS) $(INST_ROOT)$(docdir)/

install.pdf: $(FTP_PDF)
	@test -d $(INST_ROOT)$(docdir) || \
	  $(INSTALL) -d $(INST_ROOT)$(docdir)
	$(INSTALL_DATA) $(FTP_PDF) $(INST_ROOT)$(docdir)/

install.html: $(FTP_HTML)
	@test -d $(INST_ROOT)/$(docdir) || \
	  $(INSTALL) -d $(INST_ROOT)$(docdir)
	$(INSTALL_DATA) *.html $(INST_ROOT)$(docdir)/


############################################################

clean:

distclean: clean
	rm -f Makefile

realclean: distclean
	rm -f *.html *.ps *.pdf


############################################################
# $Log: Makefile.in,v $
# Revision 1.5  2002/05/02 13:03:46  mt
# merged with v1.8.2.2
#
# Revision 1.4.2.1  2002/01/27 21:20:38  mt
# fixed Makefiles to use INST_ROOT, added install.doc targets
#
# Revision 1.4  2002/01/14 18:35:18  mt
# changed to (re-)build only build-platform supported formats
# added PDF generation, added optional install.doc target(s)
#
# Revision 1.3  1999/09/23 08:10:01  wiegand
# delete Makefile on distclean, not only realclean
# added (empty) install target
#
# Revision 1.2  1999/09/21 08:00:59  wiegand
# checked in with new directory structure
#
############################################################

